/*! undermore - v1.8.1 - 2014-09-02
* https://github.com/atomantic/undermore
* Copyright (c) 2014 Adam Eivy (@antic); Licensed MIT */
!function(a){"use strict";var b,c={};"undefined"!=typeof module&&module.exports?(b=require("lodash"),module.exports=c):b=window._;var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.extend(c,{base64_decode:function(a){if(atob)return b.utf8_decode(atob(a));if(Buffer)return new Buffer(a,"base64").toString("binary");a=a.replace(/=+$/,"");for(var c,e,f=0,g=0,h="";e=a.charAt(g++);~e&&(c=f%4?64*c+e:e,f++%4)?h+=String.fromCharCode(255&c>>(-2*f&6)):0)e=d.indexOf(e);return h},base64_encode:function(a){if(btoa)return btoa(b.utf8_encode(a));if(Buffer){var c=a instanceof Buffer?a:new Buffer(a.toString(),"binary");return c.toString("base64")}for(var e,f,g=0,h=d,i="";a.charAt(0|g)||(h="=",g%1);i+=h.charAt(63&e>>8-g%1*8))f=a.charCodeAt(g+=.75),e=e<<8|f;return i},eFn:function(a){a.preventDefault()},fn:function(){return!0},fnMore:function(a,b,c){return c?function(){a.apply(c,arguments),b.apply(c,arguments)}:function(){a(),b()}},get:function(c,d,e){return"string"==typeof d&&(d=d.split(".")),c===a?e:0===d.length?c:null===c?e:b.get(c[d[0]],b.rest(d),e)},getQuery:function(){var a,c=function(){a={};var c=function(a){return a&&a.length>0?a.replace(/^\?/,"").split("&"):[]}(window.location.search);b.map(c,function(b){var c=b.split("=");2===c.length&&(a[c[0]]=c[1])})};return function(b,d){return"undefined"==typeof a&&c(),"undefined"==typeof b?a:"undefined"==typeof a[b]?d:a[b]}}(),isValidDate:function(a){return b.isDate(a)&&!b.isNaN(a.valueOf())},ord:function(a){var b=["th","st","nd","rd"],c=a%100;return b[(c-20)%10]||b[c]||b[0]},set:function(a,b,c){"string"==typeof b&&(b=b.split("."));for(var d=a,e=b.length-1,f=0;e>f;f++)("undefined"==typeof d[b[f]]||null===d[b[f]])&&(d[b[f]]={}),d=d[b[f]];return d[b[e]]=c,a},utf8_decode:function(a){return decodeURIComponent(escape(a))},utf8_encode:function(a){return unescape(encodeURIComponent(a))},uuid:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?c:3&c|8).toString(16)})},version:function(a,b,c){var d=-1!==b.indexOf("="),e=/\+.*$/;if(a=a.replace(e),c=c.replace(e),d&&a===c)return!0;var f,g,h,i,j=/^(\d+).(\d+).(\d+)(?:-([a-z0-9.]+))?/i,k=a.match(j),l=c.match(j),m=k[4],n=l[4];for(f=1;4>f;f++)if(g=parseInt(k[f],10)||0,h=parseInt(l[f],10)||0,g!==h){i=!0;break}if(i||(m||(g=1/0,n&&(h=0,i=!0)),n||(h=1/0,m&&(g=0,i=!0)),m||n||(i=!0)),!i){var o=m.split("."),p=n.split("."),q=o.length,r=p.length,s=q>r?q:r;for(f=0;s>f&&(g=f>=q?-1:parseInt(o[f],10)||o[f].charCodeAt(),h=f>=r?-1:parseInt(p[f],10)||p[f].charCodeAt(),g===h);f++);}return d&&g===h||-1!==b.indexOf(">")&&g>h||-1!==b.indexOf("<")&&h>g?!0:!1}}),b.mixin(c)}();