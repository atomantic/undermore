/*! undermore - v1.9.0 - 2015-07-17
* https://github.com/atomantic/undermore
* Copyright (c) 2015 Adam Eivy (@antic); Licensed MIT */
!function(e){"use strict";var n,t={};"undefined"!=typeof module&&module.exports?(n=require("lodash"),module.exports=t):n=window._;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.extend(t,{alphabetize:function(e){var t={},r=n.keys(e);return r=n.sortBy(r,function(e){return e}),n.each(r,function(r){t[r]=n.isArray(e[r])?n.map(e[r],function(e){return n.isObject(e)?n.alphabetize(e):e}):n.isObject(e[r])?n.alphabetize(e[r]):e[r]}),t},base64_decode:function(e){if("undefined"!=typeof atob)return n.utf8_decode(atob(e));if(Buffer)return new Buffer(e,"base64").toString("binary");e=e.replace(/=+$/,"");for(var t,o,i=0,u=0,f="";o=e.charAt(u++);~o&&(t=i%4?64*t+o:o,i++%4)?f+=String.fromCharCode(255&t>>(-2*i&6)):0)o=r.indexOf(o);return f},base64_encode:function(e){if("undefined"!=typeof btoa)return btoa(n.utf8_encode(e));if(Buffer){var t=e instanceof Buffer?e:new Buffer(e.toString(),"binary");return t.toString("base64")}for(var o,i,u=0,f=r,a="";e.charAt(0|u)||(f="=",u%1);a+=f.charAt(63&o>>8-u%1*8))i=e.charCodeAt(u+=.75),o=o<<8|i;return a},eFn:function(e){e.preventDefault()},fn:function(){return!0},fnMore:function(e,n,t){return t?function(){e.apply(t,arguments),n.apply(t,arguments)}:function(){e(),n()}},get:function(t,r,o){return"string"==typeof r&&(r=r.split(".")),t===e?o:0===r.length?t:null===t?o:n.get(t[r[0]],n.rest(r),o)},getQuery:function(){var e,t=function(){e={};var t=function(e){return e&&e.length>0?e.replace(/^\?/,"").split("&"):[]}(window.location.search);n.map(t,function(n){var t=n.split("=");2===t.length&&(e[t[0]]=t[1])})};return function(n,r){return"undefined"==typeof e&&t(),"undefined"==typeof n?e:"undefined"==typeof e[n]?r:e[n]}}(),isValidDate:function(e){return n.isDate(e)&&!n.isNaN(e.valueOf())},ord:function(e){var n=["th","st","nd","rd"],t=e%100;return n[(t-20)%10]||n[t]||n[0]},set:function(e,n,t){"string"==typeof n&&(n=n.split("."));for(var r=e,o=n.length-1,i=0;o>i;i++)("undefined"==typeof r[n[i]]||null===r[n[i]])&&(r[n[i]]={}),r=r[n[i]];return r[n[o]]=t,e},utf8_decode:function(e){return decodeURIComponent(escape(e))},utf8_encode:function(e){return unescape(encodeURIComponent(e))},uuid:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:3&t|8).toString(16)})},version:function(e,n,t){var r=-1!==n.indexOf("="),o=/\+.*$/;if(e=e.replace(o),t=t.replace(o),r&&e===t)return!0;var i,u,f,a,c=/^(\d+).(\d+).(\d+)(?:-([a-z0-9.]+))?/i,d=e.match(c),p=t.match(c),x=d[4],s=p[4];for(i=1;4>i;i++)if(u=parseInt(d[i],10)||0,f=parseInt(p[i],10)||0,u!==f){a=!0;break}if(a||(x||(u=1/0,s&&(f=0,a=!0)),s||(f=1/0,x&&(u=0,a=!0)),x||s||(a=!0)),!a){var l=x.split("."),h=s.split("."),g=l.length,v=h.length,y=g>v?g:v;for(i=0;y>i&&(u=i>=g?-1:parseInt(l[i],10)||l[i].charCodeAt(),f=i>=v?-1:parseInt(h[i],10)||h[i].charCodeAt(),u===f);i++);}return r&&u===f||-1!==n.indexOf(">")&&u>f||-1!==n.indexOf("<")&&f>u?!0:!1}}),n.mixin(t)}();