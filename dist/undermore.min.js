/*! undermore - v1.8.4 - 2014-09-25
* https://github.com/atomantic/undermore
* Copyright (c) 2014 Adam Eivy (@antic); Licensed MIT */
!function(e){"use strict";var n,t={};"undefined"!=typeof module&&module.exports?(n=require("lodash"),module.exports=t):n=window._;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.extend(t,{base64_decode:function(e){if("undefined"!=typeof atob)return n.utf8_decode(atob(e));if(Buffer)return new Buffer(e,"base64").toString("binary");e=e.replace(/=+$/,"");for(var t,o,f=0,u=0,i="";o=e.charAt(u++);~o&&(t=f%4?64*t+o:o,f++%4)?i+=String.fromCharCode(255&t>>(-2*f&6)):0)o=r.indexOf(o);return i},base64_encode:function(e){if("undefined"!=typeof btoa)return btoa(n.utf8_encode(e));if(Buffer){var t=e instanceof Buffer?e:new Buffer(e.toString(),"binary");return t.toString("base64")}for(var o,f,u=0,i=r,a="";e.charAt(0|u)||(i="=",u%1);a+=i.charAt(63&o>>8-u%1*8))f=e.charCodeAt(u+=.75),o=o<<8|f;return a},eFn:function(e){e.preventDefault()},fn:function(){return!0},fnMore:function(e,n,t){return t?function(){e.apply(t,arguments),n.apply(t,arguments)}:function(){e(),n()}},get:function(t,r,o){return"string"==typeof r&&(r=r.split(".")),t===e?o:0===r.length?t:null===t?o:n.get(t[r[0]],n.rest(r),o)},getQuery:function(){var e,t=function(){e={};var t=function(e){return e&&e.length>0?e.replace(/^\?/,"").split("&"):[]}(window.location.search);n.map(t,function(n){var t=n.split("=");2===t.length&&(e[t[0]]=t[1])})};return function(n,r){return"undefined"==typeof e&&t(),"undefined"==typeof n?e:"undefined"==typeof e[n]?r:e[n]}}(),isValidDate:function(e){return n.isDate(e)&&!n.isNaN(e.valueOf())},ord:function(e){var n=["th","st","nd","rd"],t=e%100;return n[(t-20)%10]||n[t]||n[0]},set:function(e,n,t){"string"==typeof n&&(n=n.split("."));for(var r=e,o=n.length-1,f=0;o>f;f++)("undefined"==typeof r[n[f]]||null===r[n[f]])&&(r[n[f]]={}),r=r[n[f]];return r[n[o]]=t,e},utf8_decode:function(e){return decodeURIComponent(escape(e))},utf8_encode:function(e){return unescape(encodeURIComponent(e))},uuid:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:3&t|8).toString(16)})},version:function(e,n,t){var r=-1!==n.indexOf("="),o=/\+.*$/;if(e=e.replace(o),t=t.replace(o),r&&e===t)return!0;var f,u,i,a,d=/^(\d+).(\d+).(\d+)(?:-([a-z0-9.]+))?/i,c=e.match(d),x=t.match(d),p=c[4],s=x[4];for(f=1;4>f;f++)if(u=parseInt(c[f],10)||0,i=parseInt(x[f],10)||0,u!==i){a=!0;break}if(a||(p||(u=1/0,s&&(i=0,a=!0)),s||(i=1/0,p&&(u=0,a=!0)),p||s||(a=!0)),!a){var l=p.split("."),g=s.split("."),h=l.length,v=g.length,y=h>v?h:v;for(f=0;y>f&&(u=f>=h?-1:parseInt(l[f],10)||l[f].charCodeAt(),i=f>=v?-1:parseInt(g[f],10)||g[f].charCodeAt(),u===i);f++);}return r&&u===i||-1!==n.indexOf(">")&&u>i||-1!==n.indexOf("<")&&i>u?!0:!1}}),n.mixin(t)}();